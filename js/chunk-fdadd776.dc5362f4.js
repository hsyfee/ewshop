(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fdadd776"],{"17ba":function(t,e,c){"use strict";c("e99d")},"5a4f":function(t,e,c){"use strict";c.r(e);var n=c("7a23"),a=Object(n["R"])("data-v-83dc7d5e");Object(n["A"])("data-v-83dc7d5e");var i={class:"order-detail-box"},l=Object(n["h"])(" 订单详情 "),r={class:"order-status"},o={class:"status-item"},b=Object(n["i"])("label",null,"订单状态: ",-1),u={class:"status-item"},d=Object(n["i"])("label",null,"订单编号: ",-1),s={class:"status-item"},O=Object(n["i"])("label",null,"下单时间: ",-1),j=Object(n["h"])("去支付"),f=Object(n["h"])("确认订单"),h={class:"order-price"},v={class:"price-item"},p=Object(n["i"])("label",null,"商品金额：",-1),m=Object(n["i"])("div",{class:"price-item"},[Object(n["i"])("label",null,"配送方式："),Object(n["i"])("span",null,"普通快递")],-1),g=Object(n["i"])("div",{style:{width:"100%",height:"50px"}},null,-1),w={style:{width:"90%",margin:"0 auto",padding:"50px 0"}},y=Object(n["h"])(" 支付宝二维码"),_=Object(n["i"])("br",null,null,-1),k=Object(n["h"])(" 微信二维码"),x=Object(n["i"])("br",null,null,-1);Object(n["y"])();var F=a((function(t,e,c,F,C,I){var N=Object(n["F"])("nav-bar"),P=Object(n["F"])("van-button"),D=Object(n["F"])("van-card"),q=Object(n["F"])("van-image"),J=Object(n["F"])("van-grid-item"),B=Object(n["F"])("van-grid"),S=Object(n["F"])("van-popup");return Object(n["x"])(),Object(n["f"])("div",i,[Object(n["i"])(N,{class:"nav-bar"},{default:a((function(){return[l]})),_:1}),Object(n["i"])("div",r,[Object(n["i"])("div",o,[b,Object(n["i"])("span",null,Object(n["I"])(F.statusString),1)]),Object(n["i"])("div",u,[d,Object(n["i"])("span",null,Object(n["I"])(t.detail.order_no),1)]),Object(n["i"])("div",s,[O,Object(n["i"])("span",null,Object(n["I"])(t.detail.created_at),1)]),1==t.detail.status?(Object(n["x"])(),Object(n["f"])(P,{key:0,onClick:F.showPayFn,style:{"margin-bottom":"10px"},color:"#1baeae",block:""},{default:a((function(){return[j]})),_:1},8,["onClick"])):Object(n["g"])("",!0),2==t.detail.status?(Object(n["x"])(),Object(n["f"])(P,{key:1,onClick:F.handleConfirmOrder,block:""},{default:a((function(){return[f]})),_:1},8,["onClick"])):Object(n["g"])("",!0)]),Object(n["i"])("div",h,[Object(n["i"])("div",v,[p,Object(n["i"])("span",null,"￥"+Object(n["I"])(F.total+".00"),1)]),m]),(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(t.detail.orderDetails.data,(function(t,e){return Object(n["x"])(),Object(n["f"])(D,{key:e,num:t.num,price:t.goods.price+".00",desc:"全场包邮",title:t.goods.title,thumb:t.goods.cover_url},null,8,["num","price","title","thumb"])})),128)),g,Object(n["i"])(S,{show:t.showPay,"onUpdate:show":e[1]||(e[1]=function(e){return t.showPay=e}),closeable:"",position:"bottom",style:{height:"40%"}},{default:a((function(){return[Object(n["i"])("div",w,[Object(n["i"])(B,{border:!1,"column-num":2},{default:a((function(){return[Object(n["i"])(J,{text:"支付宝"},{default:a((function(){return[y,_,Object(n["i"])(q,{width:"150",height:"150",src:t.aliyun},null,8,["src"])]})),_:1}),Object(n["i"])(J,{text:"微信支付"},{default:a((function(){return[k,x,Object(n["i"])(q,{width:"150",height:"150",src:t.wechat},null,8,["src"])]})),_:1})]})),_:1})])]})),_:1},8,["show"])])})),C=c("5530"),I=(c("68ef"),c("d4ef"),c("cb51"),c("3743"),c("e3b3"),c("bc1b"),c("1703"),c("a71a"),c("4d75"),c("2fcb"),c("2241")),N=(c("e7e5"),c("d399")),P=(c("159b"),c("a7ac")),D=c("e05b"),q=c("6c02"),J={name:"OrderDetail",components:{NavBar:P["a"]},setup:function(){var t=Object(q["c"])(),e=Object(q["d"])(),c=Object(n["B"])({orderNo:"",detail:{orderDetails:{data:[]},status:0},showPay:!1,aliyun:"",wechat:""}),a=function(){var e=t.query.id;c.orderNo=e,Object(D["c"])(e).then((function(t){console.log(t),c.detail=t}))};Object(n["u"])((function(){N["a"].loading({message:"加载中...",forbidClick:!0}),a(),N["a"].clear()}));var i=Object(n["d"])((function(){var t=["","已下单","已支付","等待发货","确认收货","已过期"];return t[c.detail.status]})),l=Object(n["d"])((function(){var t=0;return c.detail.orderDetails.data.forEach((function(e){t+=e.num*e.goods.price})),t})),r=function(){c.showPay=!0,Object(D["f"])(c.orderNo,{type:"aliyun"}).then((function(t){c.aliyun=t.qr_code_url,c.wechat=t.qr_code_url}));var t=setInterval((function(){Object(D["g"])(c.orderNo).then((function(n){console.log(n),"2"==n&&(clearInterval(t),c.showPay=!1,e.push({path:"/orderdetail",query:{id:c.orderNo}}))}))}),2e3)},o=function(){I["a"].confirm({title:"是否确认订单"}).then((function(){Object(D["a"])(c.orderNo).then((function(t){Object(N["a"])("确认成功"),a()})).catch((function(){}))}))},b=function(){I["a"].close()};return Object(C["a"])(Object(C["a"])({},Object(n["J"])(c)),{},{statusString:i,total:l,showPayFn:r,handleConfirmOrder:o,close:b})}};c("17ba");J.render=F,J.__scopeId="data-v-83dc7d5e";e["default"]=J},e99d:function(t,e,c){}}]);
//# sourceMappingURL=chunk-fdadd776.dc5362f4.js.map