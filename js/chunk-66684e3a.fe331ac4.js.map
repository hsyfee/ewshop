{"version":3,"sources":["webpack:///./src/views/profile/Profile.vue","webpack:///./src/views/profile/Profile.vue?6411","webpack:///./src/views/profile/Profile.vue?0b8a","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/assets/images/user.png"],"names":["id","class","src","alt","style","default","user","name","email","goTo","round","block","color","toLogout","setup","router","store","state","then","res","console","log","status","success","window","localStorage","setItem","commit","setTimeout","push","path","query","components","NavBar","render","__scopeId","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","module","exports"],"mappings":"sPACOA,GAAG,W,iBAEqB,Q,GAGtBC,MAAM,Y,GACJA,MAAM,a,GACJA,MAAM,Q,EAEP,eAA0C,OAArCC,IAAA,IAA8BC,IAAI,I,YAEpCF,MAAM,a,EAGT,eAAyB,YAAnB,gBAAY,G,GAKpBA,MAAM,a,EAEN,eAAiB,YAAX,QAAI,G,EAIV,eAAiB,YAAX,QAAI,G,EAIV,eAAiB,YAAX,QAAI,G,EAIV,eAAiB,YAAX,QAAI,G,EAIV,eAAiB,YAAX,QAAI,G,GAMXG,MAAA,iB,iBACwD,Q,oKA5C/D,eA8CM,MA9CN,EA8CM,CA7CJ,eAEU,QADSC,QAAO,GAAC,iBAAI,C,YAG/B,eAoCM,MApCN,EAoCM,CAnCJ,eAWM,MAXN,EAWM,CAVJ,eASM,MATN,EASM,CAPF,EAEF,eAIM,MAJN,EAIM,CAHJ,eAA6B,YAAvB,MAAG,eAAE,EAAAC,KAAKC,MAAI,GACpB,eAA+B,YAAzB,OAAI,eAAE,EAAAD,KAAKE,OAAK,GACtB,QAKN,eAqBK,KArBL,EAqBK,CApBH,eAGK,MAHDP,MAAM,uBAAwB,QAAK,+BAAE,EAAAQ,KAAI,e,CAC3C,EACA,eAAyB,GAAfF,KAAK,YAEjB,eAGK,MAHDN,MAAM,uBAAwB,QAAK,+BAAE,EAAAQ,KAAI,a,CAC3C,EACA,eAAyB,GAAfF,KAAK,YAEjB,eAGK,MAHDN,MAAM,uBAAwB,QAAK,+BAAE,EAAAQ,KAAI,e,CAC3C,EACA,eAAyB,GAAfF,KAAK,YAEjB,eAGK,MAHDN,MAAM,uBAAwB,QAAK,+BAAE,EAAAQ,KAAI,e,CAC3C,EACA,eAAyB,GAAfF,KAAK,YAEjB,eAGK,MAHDN,MAAM,uBAAwB,QAAK,+BAAE,EAAAQ,KAAI,a,CAC3C,EACA,eAAyB,GAAfF,KAAK,gBAKrB,eAEM,MAFN,EAEM,CADJ,eAA4E,GAAhEG,MAAA,GAAMC,MAAA,GAAOC,MAAM,UAAW,QAAO,EAAAC,U,YAAU,iBAAI,C,qHAapD,GACbN,KAAM,UACNO,MAFa,WAGX,IAAMC,EAAS,iBACTC,EAAQ,iBAERC,EAAQ,eAAS,CACrBX,KAAM,KAuBR,gBAAU,WACR,iBAAUY,MAAK,SAAAC,GACbC,QAAQC,IAAIF,GACZF,EAAMX,KAAOa,QAIjB,IAAMN,EAAW,WACf,iBAASK,MAAK,SAAAC,GACK,OAAdA,EAAIG,SACL,OAAMC,QAAQ,QAGdC,OAAOC,aAAaC,QAAQ,QAAQ,IAEpCV,EAAMW,OAAO,cAAc,GAE3BC,YAAW,WACTb,EAAOc,KAAK,CAACC,KAAK,aAClB,UAMFrB,EAAO,SAACqB,EAAMC,GAClBhB,EAAOc,KAAK,CAACC,OAAMC,MAAMA,GAAS,MAGpC,wCACK,eAAOd,IADZ,IAGEJ,WACAJ,UAIJuB,WAAY,CACVC,SAAA,O,UCzHN,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,oCCRf,W,qBCAA,IAAIC,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BM,KAAKC,MAAMC,MAAMN,GAAQ,GAC1D,MAAOO,GACP,MAAO,Q,qBCjBfC,EAAOC,QAAU,IAA0B,yB","file":"js/chunk-66684e3a.fe331ac4.js","sourcesContent":["<template>\r\n  <div id=\"profile\">\r\n    <nav-bar>\r\n      <template v-slot:default>个人中心</template>\r\n    </nav-bar>\r\n\r\n    <div class=\"user-box\">\r\n      <div class=\"user-info\">\r\n        <div class=\"info\">\r\n          <!--<van-uploader :after-read=\"Uploader\">-->\r\n            <img src=\"~assets/images/user.png\" alt=\"\">\r\n          <!--</van-uploader>-->\r\n          <div class=\"user-desc\">\r\n            <span>昵称：{{user.name}}</span>\r\n            <span>登录名：{{user.email}}</span>\r\n            <span>个性签名：给你盖个章吧！</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <ul class=\"user-list\">\r\n        <li class=\"van-hairline--bottom\" @click=\"goTo('/collect')\">\r\n          <span>我的收藏</span>\r\n          <van-icon name=\"arrow\" />\r\n        </li>\r\n        <li class=\"van-hairline--bottom\" @click=\"goTo('/order')\">\r\n          <span>我的订单</span>\r\n          <van-icon name=\"arrow\" />\r\n        </li>\r\n        <li class=\"van-hairline--bottom\" @click=\"goTo('/setting')\">\r\n          <span>账号管理</span>\r\n          <van-icon name=\"arrow\" />\r\n        </li>\r\n        <li class=\"van-hairline--bottom\" @click=\"goTo('/address')\">\r\n          <span>地址管理</span>\r\n          <van-icon name=\"arrow\" />\r\n        </li>\r\n        <li class=\"van-hairline--bottom\" @click=\"goTo('/about')\">\r\n          <span>关于我们</span>\r\n          <van-icon name=\"arrow\" />\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div style=\"margin: 16px;\">\r\n      <van-button round block  color=\"#42b983\" @click=\"toLogout\">退出登录</van-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import NavBar from \"components/common/navbar/NavBar\";\r\n  import {logout, getUser, updateAvatar} from \"network/user\";\r\n  import { Toast } from 'vant';\r\n  import {ref, reactive, toRefs, onMounted} from 'vue';\r\n  import {useRouter} from 'vue-router';\r\n  import {useStore} from 'vuex'\r\n\r\n  export default {\r\n    name: \"Profile\",\r\n    setup(){\r\n      const router = useRouter();\r\n      const store = useStore();\r\n\r\n      const state = reactive({\r\n        user: {}\r\n      })\r\n\r\n/*      //上传图片\r\n      const Uploader = (e)=>{\r\n        console.log(e);\r\n\r\n        let content = e.file;\r\n        console.log(content);\r\n\r\n        let data = new FormData();\r\n        //  FormData 对象的使用：\r\n        // 1.用一些键值对来模拟一系列表单控件：即把form中所有表单元素的name与value组装成一个queryString\r\n        // 2. 异步上传二进制文件。\r\n        //上传图片需要转换二进制这里要用到FormData\r\n        data.append('avatar',content);\r\n\r\n        updateAvatar({avatar:data}).then(res=>{\r\n          console.log(res);\r\n        })\r\n    }*/\r\n\r\n\r\n      onMounted(()=>{\r\n        getUser().then(res=>{\r\n          console.log(res);\r\n          state.user = res;\r\n        })\r\n      })\r\n\r\n      const toLogout = ()=>{\r\n        logout().then(res=>{\r\n          if(res.status == '204'){\r\n            Toast.success('退出成功')\r\n\r\n            //清除token\r\n            window.localStorage.setItem('token','');\r\n\r\n            store.commit('setIsLogin', false)\r\n\r\n            setTimeout(()=>{\r\n              router.push({path:'/login'})\r\n            },500)\r\n          }\r\n        })\r\n      }\r\n\r\n      //跳转方法\r\n      const goTo = (path, query)=>{\r\n        router.push({path, query:query || {}})\r\n      }\r\n\r\n      return {\r\n        ...toRefs(state),\r\n        // Uploader,\r\n        toLogout,\r\n        goTo\r\n      }\r\n    },\r\n\r\n    components: {\r\n      NavBar\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  #profile {\r\n    background-color: #FCFCFC;\r\n    height: 100vh;\r\n  }\r\n  .user-box {\r\n    margin-top: 55px;\r\n   /* .user-header {\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      z-index: 10000;\r\n      width:100%;\r\n      height:44px;\r\n      line-height: 44px;\r\n      padding: 0 10px;\r\n      color: #252525;\r\n      background: #fff;\r\n      border-bottom: 1px solid #dcdcdc;\r\n      .user-name {\r\n        font-size: 14px;\r\n      }\r\n    }*/\r\n    .user-info {\r\n      width: 94%;\r\n      height: 115px;\r\n      margin: 10px;\r\n      background: linear-gradient(90deg, #31c7A7, #A1c7c7);\r\n      box-shadow: 0 2px 5px #269090;\r\n      border-radius: 6px;\r\n      text-align: left;\r\n      .info {\r\n        display: flex;\r\n        padding: 25px 20px;\r\n        img {\r\n          width: 60px;\r\n          height: 60px;\r\n          border-radius: 50%;\r\n          margin-top: 4px;\r\n        }\r\n        .user-desc {\r\n          display: flex;\r\n          flex-direction: column;\r\n          margin-left: 10px;\r\n          span {\r\n            font-size: 14px;\r\n            line-height: 24px;\r\n            color: #ffffff;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .user-list {\r\n      padding: 0 8px;\r\n      margin-top: 40px;\r\n\r\n      li {\r\n        font-size: 14px;\r\n        height: 40px;\r\n        line-height: 40px;\r\n        padding: 0 5px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin: 20px 0;\r\n        background-color: #fff;\r\n        border-radius: 3px;\r\n        .van-icon-arrow {\r\n          margin-top: 13px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n</style>","import { render } from \"./Profile.vue?vue&type=template&id=ee9a5d4c&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=ee9a5d4c&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-ee9a5d4c\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Profile.vue?vue&type=style&index=0&id=ee9a5d4c&scoped=true&lang=scss\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","module.exports = __webpack_public_path__ + \"img/user.1f230f71.png\";"],"sourceRoot":""}