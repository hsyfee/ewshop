(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32bda2fb"],{"364c":function(e,t,c){},"6d71":function(e,t,c){"use strict";var n=c("7a23"),a=Object(n["R"])("data-v-7f9eb2ae");Object(n["A"])("data-v-7f9eb2ae");var o={class:"goods"};Object(n["y"])();var i=a((function(e,t,c,a,i,r){var l=Object(n["F"])("goods-list-item");return Object(n["x"])(),Object(n["f"])("div",o,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.goods,(function(e){return Object(n["x"])(),Object(n["f"])(l,{key:e,product:e},null,8,["product"])})),128))])})),r=Object(n["R"])("data-v-5a9d457f");Object(n["A"])("data-v-5a9d457f");var l={alt:""},u={class:"goods-info"},b={class:"price"},s=Object(n["i"])("small",null,"￥",-1),d={class:"collect"};Object(n["y"])();var j=r((function(e,t,c,a,o,i){var r=Object(n["G"])("lazy");return Object(n["x"])(),Object(n["f"])("div",{class:"goods-item",onClick:t[1]||(t[1]=function(){return a.itemClick&&a.itemClick.apply(a,arguments)})},[Object(n["P"])(Object(n["i"])("img",l,null,512),[[r,c.product.cover_url]]),Object(n["i"])("div",u,[Object(n["i"])("p",null,Object(n["I"])(c.product.title),1),Object(n["i"])("span",b,[s,Object(n["h"])(Object(n["I"])(c.product.price),1)]),Object(n["i"])("span",d,Object(n["I"])(c.product.collects_count),1)])])})),O=c("6c02"),f={name:"GoodsListItem",props:{product:{type:Object,default:function(){return{}}}},setup:function(e){var t=Object(O["d"])();return{itemClick:function(){t.push({path:"/detail",query:{id:e.product.id}})}}}};c("93a8");f.render=j,f.__scopeId="data-v-5a9d457f";var p=f,v={name:"GoodsList",components:{GoodsListItem:p},props:{goods:{type:Array,default:function(){return[]}}}};c("edae");v.render=i,v.__scopeId="data-v-7f9eb2ae";t["a"]=v},"7b7b":function(e,t,c){"use strict";c("8dac")},"8dac":function(e,t,c){},"8f98":function(e,t,c){},"93a8":function(e,t,c){"use strict";c("364c")},9672:function(e,t,c){"use strict";c("9947")},9947:function(e,t,c){},a52c:function(e,t,c){},b3d7:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a=Object(n["R"])("data-v-beda9f30");Object(n["A"])("data-v-beda9f30");var o={id:"home"},i=Object(n["h"])("图书兄弟"),r={class:"wrapper"},l={class:"content"},u={ref:"banref"};Object(n["y"])();var b=a((function(e,t,c,b,s,d){var j=Object(n["F"])("nav-bar"),O=Object(n["F"])("tab-control"),f=Object(n["F"])("home-swiper"),p=Object(n["F"])("recommend-view"),v=Object(n["F"])("goods-list"),m=Object(n["F"])("back-top");return Object(n["x"])(),Object(n["f"])("div",o,[Object(n["i"])(j,null,{default:a((function(){return[i]})),_:1}),Object(n["P"])(Object(n["i"])(O,{onTabClick:b.tabClick,titles:["畅销","新书","精选"]},null,8,["onTabClick"]),[[n["L"],b.isTabFixed]]),Object(n["i"])("div",r,[Object(n["i"])("div",l,[Object(n["i"])("div",u,[Object(n["i"])(f,{banners:b.banners},null,8,["banners"]),Object(n["i"])(p,{recommends:b.recommends},null,8,["recommends"])],512),Object(n["i"])(O,{onTabClick:b.tabClick,titles:["畅销","新书","精选"]},null,8,["onTabClick"]),Object(n["i"])(v,{goods:b.showGoods},null,8,["goods"])])]),Object(n["P"])(Object(n["i"])(m,{onBTop:b.bTop},null,8,["onBTop"]),[[n["L"],b.isShowBackTop]])])})),s=c("2909"),d=Object(n["R"])("data-v-f2d49e08");Object(n["A"])("data-v-f2d49e08");var j={alt:""};Object(n["y"])();var O=d((function(e,t,c,a,o,i){var r=Object(n["F"])("van-swipe-item"),l=Object(n["F"])("van-swipe"),u=Object(n["G"])("lazy");return c.banners.length?(Object(n["x"])(),Object(n["f"])(l,{key:0,class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:d((function(){return[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.banners,(function(e,t){return Object(n["x"])(),Object(n["f"])(r,{key:t},{default:d((function(){return[Object(n["P"])(Object(n["i"])("img",j,null,512),[[u,e.img_url]])]})),_:2},1024)})),128))]})),_:1})):Object(n["g"])("",!0)})),f={name:"HomeSwiper",props:{banners:{type:Array,default:function(){return[]}}}};c("7b7b");f.render=O,f.__scopeId="data-v-f2d49e08";var p=f,v=c("a7ac"),m=(c("fb6a"),Object(n["R"])("data-v-6e48242c"));Object(n["A"])("data-v-6e48242c");var g={class:"recommend"},h={alt:""};Object(n["y"])();var y=m((function(e,t,c,a,o,i){var r=Object(n["G"])("lazy");return Object(n["x"])(),Object(n["f"])("div",null,[Object(n["i"])("div",g,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.recommends.slice(0,4),(function(e){return Object(n["x"])(),Object(n["f"])("div",{class:"recommend-item",key:e.id},[Object(n["i"])("a",{href:"",onClick:Object(n["Q"])((function(t){return a.goDetail(e.id)}),["prevent"])},[Object(n["P"])(Object(n["i"])("img",h,null,512),[[r,e.cover_url]])],8,["onClick"]),Object(n["i"])("div",null,Object(n["I"])(e.title),1)])})),128))])])})),k=c("6c02"),w={name:"RecommendView",props:{recommends:{type:Array,default:function(){return[]}}},setup:function(){var e=Object(k["d"])(),t=function(t){e.push({path:"/Detail",query:{id:t}})};return{goDetail:t}}};c("9672");w.render=y,w.__scopeId="data-v-6e48242c";var C=w,x=Object(n["R"])("data-v-0dd20c70");Object(n["A"])("data-v-0dd20c70");var _={class:"tab-control"};Object(n["y"])();var T=x((function(e,t,c,a,o,i){return Object(n["x"])(),Object(n["f"])("div",_,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.titles,(function(e,t){return Object(n["x"])(),Object(n["f"])("div",{key:t,onClick:function(e){return a.itemClick(t)},class:["tab-control-item",{active:t==a.currentIndex}]},[Object(n["i"])("span",null,Object(n["I"])(e),1)],10,["onClick"])})),128))])})),I={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},setup:function(e,t){var c=t.emit,a=Object(n["C"])(0),o=function(e){a.value=e,c("tabClick",e)};return{itemClick:o,currentIndex:a}}};c("fe08");I.render=T,I.__scopeId="data-v-0dd20c70";var F=I,A=c("6d71"),G=c("725f"),B=c("1bab");function R(){return Object(B["a"])({url:"/api/index"})}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(B["a"])({url:"/api/index?"+e+"=1&page="+t})}var L=c("f40f"),H={name:"Home",setup:function(){var e=Object(n["C"])(!1),t=Object(n["C"])(!1),c=Object(n["C"])(null),a=Object(n["C"])([]),o=Object(n["B"])({sales:{page:1,list:[]},recommend:{page:1,list:[]},new:{page:1,list:[]}}),i=Object(n["C"])("sales"),r=Object(n["d"])((function(){return o[i.value].list})),l=Object(n["B"])({}),u=Object(n["C"])([]);Object(n["u"])((function(){R().then((function(e){a.value=e.goods.data,u.value=e.slides})),D("sales").then((function(e){o["sales"].list=e.goods.data})),D("new").then((function(e){o["new"].list=e.goods.data})),D("recommend").then((function(e){o["recommend"].list=e.goods.data})),l=new L["a"](document.querySelector(".wrapper"),{probeType:3,click:!0,pullUpLoad:!0}),l.on("scroll",(function(n){console.log(c.value.offsetHeight),console.log(-n.y),t.value=e.value=-n.y>c.value.offsetHeight})),l.on("pullingUp",(function(){console.log("上拉加载数据.....");var e=o[i.value].page+1;D(i.value,e).then((function(e){var t;(t=o[i.value].list).push.apply(t,Object(s["a"])(e.goods.data)),o[i.value].page+=1})),l.finishPullUp(),l.refresh(),console.log("contentheight:"+document.querySelector(".content").clientHeight),console.log("当前类型："+i.value+"当前页："+e)}))})),Object(n["N"])((function(){Object(n["p"])((function(){l&&l.refresh()}))}));var b=function(e){var t=["sales","new","recommend"];i.value=t[e],Object(n["p"])((function(){l&&l.refresh()}))},d=function(){l.scrollTo(0,0,500)};return{recommends:a,tabClick:b,goods:o,showGoods:r,isTabFixed:e,isShowBackTop:t,banref:c,bTop:d,banners:u}},components:{HomeSwiper:p,NavBar:v["a"],RecommendView:C,TabControl:F,GoodsList:A["a"],BackTop:G["a"]}};c("dcaa");H.render=b,H.__scopeId="data-v-beda9f30";t["default"]=H},c330:function(e,t,c){},dcaa:function(e,t,c){"use strict";c("c330")},edae:function(e,t,c){"use strict";c("a52c")},fe08:function(e,t,c){"use strict";c("8f98")}}]);
//# sourceMappingURL=chunk-32bda2fb.c6e06b1a.js.map